spring.application.name=dripyard-backend

server.port=${PORT:8080}
# Bind to all network interfaces (0.0.0.0) to allow access from any network
server.address=0.0.0.0
management.endpoints.web.exposure.include=health
management.endpoint.health.show-details=always

spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:mysql://maglev.proxy.rlwy.net:14354/railway}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:root}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

spring.jpa.hibernate.ddl-auto=update
spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect

# HikariCP connection pool settings to prevent timeouts
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000
spring.datasource.hikari.validation-timeout=5000
spring.datasource.hikari.connection-test-query=SELECT 1

mailersend.api.token=${MAILERSEND_API_TOKEN}
mailersend.admin.email=${MAILERSEND_ADMIN_EMAIL:dripyard.in}
mailersend.from.email=${MAILERSEND_FROM_EMAIL:no-reply@dripyard.in}
mailersend.from.name=${MAILERSEND_FROM_NAME:Dripyard}

# Razorpay
razorpay.api.key=${RAZORPAY_API_KEY}
razorpay.api.secret=${RAZORPAY_API_SECRET}
razorpay.webhook.secret=${RAZORPAY_WEBHOOK_SECRET}

# Public base URL for callback redirects (update in prod)
app.public.base-url=${APP_PUBLIC_BASE_URL:https://skillful-nature-production.up.railway.app}
# Frontend base URL for user redirects after payment success/failure
app.frontend.base-url=${APP_FRONTEND_BASE_URL:https://dripyardwebsite.vercel.app}

# Shiprocket
shiprocket.api.key=${SHIPROCKET_API_KEY}
shiprocket.api.secret=${SHIPROCKET_API_SECRET}
shiprocket.api.baseurl=${SHIPROCKET_API_BASEURL:https://apiv2.shiprocket.in/v1}
shiprocket.email=${SHIPROCKET_EMAIL:devopify.work@gmail.com}
shiprocket.password=${SHIPROCKET_PASSWORD}

# Cloudflare R2
cloudflare.r2.accessKey=${CLOUDFLARE_R2_ACCESSKEY}
cloudflare.r2.secretKey=${CLOUDFLARE_R2_SECRETKEY}
cloudflare.r2.endpoint=${CLOUDFLARE_R2_ENDPOINT:https://b5df22bea4df77ebe929092fc8f10dd2.r2.cloudflarestorage.com}
cloudflare.r2.region=${CLOUDFLARE_R2_REGION:us-east-1}
cloudflare.r2.bucket=${CLOUDFLARE_R2_BUCKET:bucket1}

spring.devtools.livereload.enabled=true

# Logging Configuration
logging.level.org.springframework=INFO
logging.level.com.aditi.dripyard=DEBUG
logging.level.software.amazon.awssdk=DEBUG
logging.level.org.springframework.web=DEBUG
logging.level.org.springframework.security=DEBUG
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n
logging.file.name=logs/dripyard-backend.log
logging.file.max-size=10MB
logging.file.max-history=30

contact.email=${CONTACT_EMAIL}
contact.phone=${CONTACT_PHONE}
